<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find | Kakao Clone</title>
    <!--무료폰트를 사용하기 위한 코드-->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <!--CSS 사용하기 위한 코드-->
    <link rel="stylesheet" href="css/styles.css" />
    <script type="text/javascript" src="./js/jquery-3.4.1.min.js"></script>

    <script>
      $(document).ready(function() {
        printContainer(currentMonth);
        printContainer(currentMonth + 1);
        console.log("fist");
      });

      $(function() {
        var d = false;

        $("html, body").on("touchmove ", function(e) {
          var wheelDelta = e.originalEvent.wheelDelta;

          if (wheelDelta > 0) {
            console.log("up");
            $(this).scrollLeft(-wheelDelta + $(this).scrollLeft());

            /*애니메이션*/
            $(this)
              .stop()
              .animate(
                {
                  scrollLeft: -20 + "px" //스크롤시 왼쪽에서 부터 0px 위치로 스크롤이 돌아온다!
                },
                {
                  duration: 1000,
                  complete: function() {
                    const boxContainer = document.querySelector(".boxwrap");

                    const firstId = boxContainer.firstElementChild.id;

                    /* id값을 int로 변경*/
                    let firstNumber = parseInt(firstId);
                    console.log(firstNumber + "firstID");

                    if (firstNumber > 1) {
                      /*타이틀 수정*/
                      document.querySelector(".js-month").innerHTML =
                        firstNumber - 1;
                      /*모든 자시 노드를 삭제*/
                      while (boxContainer.hasChildNodes()) {
                        boxContainer.removeChild(
                          boxContainer.firstElementChild
                        );
                      }
                      /* 자시 노드를 추가*/
                      printContainer(firstNumber - 1);
                      printContainer(firstNumber);
                    }
                  }
                }
              );
          } else {
            console.log("down");
            /*마우스 휠로 좌우스크롤 이동*/
            $(this).scrollLeft(-wheelDelta + $(this).scrollLeft());

            /*애니메이션*/
            $(this)
              .stop()
              .animate(
                {
                  scrollLeft: 20 + "px" //스크롤시 왼쪽에서 부터 0px 위치로 스크롤이 돌아온다!
                },
                {
                  duration: 1000,
                  complete: function() {
                    const boxContainer = document.querySelector(".boxwrap");

                    const lastId = boxContainer.lastElementChild.id;

                    /* id값을 int로 변경*/
                    let lastNumber = parseInt(lastId);

                    /*해당 lastId가 12면 END*/
                    if (lastNumber < 12) {
                      /*타이틀 수정*/
                      document.querySelector(".js-month").innerHTML = lastId;

                      boxContainer.lastElementChild.previousSibling.remove();
                      printContainer(lastNumber + 1);
                    }
                  }
                }
              );
          }
        });
      });
    </script>
  </head>
  <body class="calendar-body" style="overflow-y:hidden">
    <div class="header-wrapper">
      <!--status-bar start-->
      <div class="status-bar">
        <div class="status-bar__column">
          <span class="status-bar__kt">KT</span>
        </div>
        <div class="status-bar__column">
          <!--item 무료사용 Font Awesome 사용-->
          <i class="fas fa-clock"></i>
          <i class="fas fa-volume-mute"></i>
          <i class="fas fa-wifi"></i>
          <span class="status-bar__battery-level">100%</span>
          <i class="fas fa-battery-full"></i>
          <span class="status-bar__clock js-clock"><p>00:00</p></span>
        </div>
      </div>
      <!--status-bar end-->
    </div>
    <div class="calendar__header">
      <div class="calendar__header-left">
        <a href="index.html" class="header__back-btn">
          <i class="fas fa-arrow-left"></i>
        </a>
        <h1 class="header__title js-month"></h1>
        <select
          ><option>test</option></select
        >
      </div>
      <div class="calendar__header-right">
        <span class="">
          <i class="fas fa-bars"></i>
        </span>
      </div>
    </div>
    <section class="calendar ">
      <div class="boxwrap"></div>
    </section>
    <!--MediaQuery-->
    <div class="bigScreen">
      <span class="bigScreen__text">
        Please make your screen small
      </span>
    </div>
    <script src="./js/clock.js"></script>
    <script src="./js/calendar.js"></script>
  </body>
</html>
